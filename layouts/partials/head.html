<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="{{ with .Description }}{{ . }}{{ else }}{{ .Site.Params.description }}{{ end }}">
<meta name="keywords" content="MADD, Multi-Agent Driven Development, AI development, methodology, Scrum alternative, AI-assisted development, drift control, convergence">
<meta name="author" content="{{ .Site.Params.author }}">
<meta name="robots" content="index, follow">

{{- $title := cond .IsHome .Site.Title (printf "%s — MADD" .Title) -}}
{{- $ogTitle := cond (ne (.Param "ogTitle") "") (.Param "ogTitle") $title -}}
{{- $description := cond (ne .Description "") .Description .Site.Params.description -}}
{{- $image := .Site.BaseURL | strings.TrimSuffix "/" | printf "%s/images/og-default.png" -}}

<title>{{ $title }}</title>

<!-- Canonical URL -->
<link rel="canonical" href="{{ .Permalink }}">

<!-- Open Graph -->
<meta property="og:type" content="{{ cond .IsHome "website" "article" }}">
<meta property="og:site_name" content="MADD — Multi-Agent Driven Development">
<meta property="og:title" content="{{ $ogTitle }}">
<meta property="og:description" content="{{ $description }}">
<meta property="og:url" content="{{ .Permalink }}">
<meta property="og:image" content="{{ $image }}">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:image:type" content="image/png">
<meta property="og:locale" content="{{ cond (eq .Lang "fr") "fr_FR" "en_US" }}">
{{- range .Translations }}
<meta property="og:locale:alternate" content="{{ cond (eq .Lang "fr") "fr_FR" "en_US" }}">
{{- end }}

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ $ogTitle }}">
<meta name="twitter:description" content="{{ $description }}">
<meta name="twitter:image" content="{{ $image }}">

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">

<!-- Styles -->
<link rel="stylesheet" href="{{ "css/style.css" | relURL }}">

<!-- Favicon -->
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%23CC785C' width='100' height='100'/><text y='.9em' x='50%' text-anchor='middle' font-size='70' font-family='monospace' fill='%23141413'>M</text></svg>">

<!-- Alternate language versions -->
{{ range .Translations }}
<link rel="alternate" hreflang="{{ .Lang }}" href="{{ .Permalink }}">
{{ end }}
<link rel="alternate" hreflang="{{ .Lang }}" href="{{ .Permalink }}">

<!-- MD version for LLMs -->
{{ if .OutputFormats.Get "MD" }}
<link rel="alternate" type="text/markdown" href="{{ (.OutputFormats.Get "MD").Permalink }}">
{{ end }}

<!-- Schema.org structured data -->
<script type="application/ld+json">
{{- if .IsHome -}}
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebSite",
      "@id": "{{ .Site.BaseURL }}#website",
      "name": "MADD — Multi-Agent Driven Development",
      "alternateName": "MADD",
      "url": "{{ .Site.BaseURL }}",
      "description": "{{ .Site.Params.description }}",
      "inLanguage": [
        { "@type": "Language", "name": "English", "alternateName": "en" },
        { "@type": "Language", "name": "French", "alternateName": "fr" }
      ]
    },
    {
      "@type": "Organization",
      "@id": "{{ .Site.BaseURL }}#organization",
      "name": "MADD Community",
      "url": "{{ .Site.BaseURL }}",
      "sameAs": [
        "{{ .Site.Params.githubUrl }}"
      ]
    },
    {
      "@type": "WebPage",
      "@id": "{{ .Permalink }}#webpage",
      "url": "{{ .Permalink }}",
      "name": "{{ $title }}",
      "description": "{{ $description }}",
      "isPartOf": { "@id": "{{ .Site.BaseURL }}#website" },
      "about": { "@id": "{{ .Site.BaseURL }}#organization" },
      "inLanguage": "{{ .Lang }}"
    },
    {
      "@type": "SoftwareApplication",
      "name": "MADD",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "Any",
      "description": "An open-source methodology for AI-assisted development that provides the framework to control drift and drive convergence between intention and implementation.",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "url": "{{ .Site.BaseURL }}"
    }
  ]
}
{{- else -}}
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebPage",
      "@id": "{{ .Permalink }}#webpage",
      "url": "{{ .Permalink }}",
      "name": "{{ $title }}",
      "description": "{{ $description }}",
      "isPartOf": { "@id": "{{ .Site.BaseURL }}#website" },
      "inLanguage": "{{ .Lang }}",
      "breadcrumb": { "@id": "{{ .Permalink }}#breadcrumb" }
    },
    {
      "@type": "BreadcrumbList",
      "@id": "{{ .Permalink }}#breadcrumb",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "{{ .Site.BaseURL }}"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "{{ .Title }}",
          "item": "{{ .Permalink }}"
        }
      ]
    }
  ]
}
{{- end -}}
</script>
